{% extends "base.html" %}

{% block content %}
<h1 class="title has-text-centered">
  Upload a VCF file
</h1>

<div class="box" style="min-height: 70vh">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="notification is-danger">
            {{ messages[0] }}
        </div>
    {% endif %}
  {% endwith %}

  <a class="button is-link mb-4" href="/">⇦ Back to files</a>

  <form id="file-upload-form" method="POST" enctype="multipart/form-data" class="form">
    <div class="file has-name is-fullwidth">
    <label class="file-label">
      <input class="file-input" type="file" name="file">
      <span class="file-cta">
        <span class="file-icon">
          <i class="fas fa-upload"></i>
        </span>
        <span class="file-label">
          Choose a VCF file…
        </span>
      </span>
      <span class="file-name">
      </span>
    </label>
    <input class="button is-primary ml-2" type=submit value=Upload>
  </form>
</div>

{% endblock %}

{% block js %}
<script>
  $('#file-upload-form input[type=file').change(function() {
    if (this.files.length > 0) {
      $('#file-upload-form .file-name').text(this.files[0].name);
    }
  });
</script>
{% endblock %}